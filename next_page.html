<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@500;800&display=swap" rel="stylesheet">
    <title>Processing Options</title>
    <link rel="stylesheet" href="style2.css">
</head>
<body>
    <div class="hero">
        <div class="inner-wrapper">
            <img class="toplogo" src="images/toplogo.svg">
    <div class="container">
        <h1>Processing Options for Uploaded File</h1>
        <div class="proses"><!-- Add a new <p> element with an ID to display the filename -->
            <p id="uploadedFileName"></p>
            <p>Select one option for processing the uploaded file:</p>
            <form id="processingOptionsForm" onsubmit="return handleOptionSelection(event)">
                <input type="radio" id="optionA" name="processingOption" value="Option A">
                <label for="optionA">CEK MAN HOUR</label>
                <input type="radio" id="optionB" name="processingOption" value="Option B">
                <label for="optionB">CEK LOG</label><br>
                <input type="submit" value="Process">
            </form>
        </div>
        </div>
       
    </div>

        <script>
        function handleOptionSelection(event) {
            event.preventDefault();
            const selectedOption = document.querySelector('input[name="processingOption"]:checked');

            // Check if an option has been selected
            if (!selectedOption) {
                alert("Please select one option before proceeding.");
                return false;
            }

            // Get the file uploaded from the URL query parameter
            const urlParams = new URLSearchParams(window.location.search);
            const uploadedFile = urlParams.get('fileUpload');

            // Get the selected processing option
            const selectedProcessingOption = selectedOption.value;

            // Check the selected option and redirect accordingly
            if (selectedProcessingOption === 'Option A') {
                // Redirect to "Cek Man Hour" page with the uploaded file as a query parameter
                window.location.href = `man_hour.html?fileUpload=${encodeURIComponent(uploadedFile)}`;
            } else if (selectedProcessingOption === 'Option B') {
                // Redirect to "Cek Log" page with the uploaded file as a query parameter
                window.location.href = `Log.html?fileUpload=${encodeURIComponent(uploadedFile)}`;
            }

            return false;
        }

        // Code to display the filename on page load
        document.addEventListener("DOMContentLoaded", function() {
            // Kode yang sudah ada untuk menampilkan nama file
        });
    </script>
</body>
</html>
